webpackJsonp([1],{JBdj:function(t,e){},NHnr:function(t,e,n){"use strict";function i(t){n("dxVl")}function a(t){n("JBdj")}Object.defineProperty(e,"__esModule",{value:!0});var r=n("7+uW"),o={name:"app"},d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},s=[],c={render:d,staticRenderFns:s},l=c,h=n("VU/8"),u=i,p=h(o,l,!1,u,null,null),y=p.exports,m=n("/ocq"),f=n("Q1TF"),g=n("IT06"),x=n("HRak"),_={scaleLinear:f.a,scaleOrdinal:f.b,schemeCategory20:f.c,json:g.a,hierarchy:x.a,treemap:x.b},v={name:"Treemap",data:function(){return{jsonData:null,rootNode:{},margin:{top:20,right:0,bottom:0,left:0},width:960,height:530,selected:null,color:{}}},watch:{selectedNode:function(t,e){console.log("The selected node changed...")}},mounted:function(){var t=this;t.color=_.scaleOrdinal(_.schemeCategory20),_.json("../static/naf.json",function(e,n){e&&console.log(e),t.jsonData=n,t.initialize(),t.accumulate(t.rootNode,t),t.treemap(t.rootNode)})},computed:{parentId:function(){return void 0===this.selectedNode.parent||null===this.selectedNode.parent?this.selectedNode.id:this.selectedNode.parent.id},x:function(){return _.scaleLinear().domain([0,this.width]).range([0,this.width])},y:function(){return _.scaleLinear().domain([0,this.height-this.margin.top-this.margin.bottom]).range([0,this.height-this.margin.top-this.margin.bottom])},treemap:function(){return _.treemap().size([this.width,this.height]).round(!1).paddingInner(0)},selectedNode:function(){var t=null;if(this.selected){var e=this.getNodeById(this.rootNode,this.selected,this);t=e._children?e:e.parent}else t=this.rootNode;return this.x.domain([t.x0,t.x0+(t.x1-t.x0)]),this.y.domain([t.y0,t.y0+(t.y1-t.y0)]),t}},methods:{initialize:function(){var t=this;t.jsonData&&(t.rootNode=_.hierarchy(t.jsonData).eachBefore(function(t){t.id=(t.parent?t.parent.id+".":"")+t.data.name}).sum(function(t){return t.value}).sort(function(t,e){return e.height-t.height||e.value-t.value}),t.rootNode.x=t.rootNode.y=0,t.rootNode.x1=t.width,t.rootNode.y1=t.height,t.rootNode.depth=0)},accumulate:function(t,e){return t._children=t.children,t._children?(t.value=t._children.reduce(function(t,n){return t+e.accumulate(n,e)},0),t.value):t.value},getNodeById:function(t,e,n){if(t.id===e)return t;if(t._children)for(var i=0;i<t._children.length;i++){var a=n.getNodeById(t._children[i],e,n);if(a)return a}},selectNode:function(t){this.selected=t.target.id}}},N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"treemap"},[n("svg",{staticStyle:{"margin-left":"0px"},attrs:{height:t.height,width:t.width}},[n("g",{staticStyle:{"shape-rendering":"crispEdges"},attrs:{transform:"translate(0,20)"}},[n("transition-group",{staticClass:"depth",attrs:{name:"list",tag:"g"}},t._l(t.selectedNode._children,function(e,i){return t.selectedNode?n("g",{key:"c_"+e.id,staticClass:"children"},[t._l(e._children,function(e){return n("rect",{key:e.id,staticClass:"child",attrs:{id:e.id,height:t.y(e.y1)-t.y(e.y0),width:t.x(e.x1)-t.x(e.x0),x:t.x(e.x0),y:t.y(e.y0)}})}),t._v(" "),n("rect",{key:e.id,staticClass:"parent",style:{fill:t.color(i)},attrs:{id:e.id,x:t.x(e.x0),y:t.y(e.y0),width:t.x(e.x1-e.x0+e.parent.x0),height:t.y(e.y1-e.y0+e.parent.y0)},on:{click:t.selectNode}},[n("title",[t._v(t._s(e.data.name)+" | "+t._s(e.value))])]),t._v(" "),n("text",{key:"t_"+e.id,staticStyle:{"fill-opacity":"1"},attrs:{dy:"1em",x:t.x(e.x0)+6,y:t.y(e.y0)+6}},[t._v("\n            "+t._s(e.data.name)+"\n          ")]),t._v(" "),n("text",{key:"t_"+e.id,staticStyle:{"fill-opacity":"1"},attrs:{dy:"2.25em",x:t.x(e.x0)+6,y:t.y(e.y0)+6}},[t._v("\n\n            "+t._s(e.value)+"\n          ")])],2):t._e()}),0),t._v(" "),n("g",{staticClass:"grandparent"},[n("rect",{attrs:{height:t.margin.top,width:t.width,y:-1*t.margin.top,id:t.parentId},on:{click:t.selectNode}}),t._v(" "),n("text",{attrs:{dy:".65em",x:"6",y:"-14"}},[t._v("\n          \n          "+t._s(t.selectedNode.id)+"\n        ")])])],1)])])},w=[],j={render:N,staticRenderFns:w},k=j,C=n("VU/8"),b=a,I=C(v,k,!1,b,"data-v-7f9468f2",null),B=I.exports;r.a.use(m.a);var T=new m.a({routes:[{path:"/",name:"Treemap",component:B}]});r.a.config.productionTip=!1,new r.a({el:"#app",router:T,template:"<App/>",components:{App:y}})},dxVl:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.a63154b98f2cdd4843fb.js.map